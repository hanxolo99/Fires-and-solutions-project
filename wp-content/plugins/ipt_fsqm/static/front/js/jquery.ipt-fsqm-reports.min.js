/*!
* eForm - WordPress Form Builder
*
* Autogenerated by Grunt on: 2019-01-08
* @version 3.8.0
* @author Swashata Ghosh (WPQuark)
* @license GPL-3.0
*/
/**
 * Report generator for FSQM Reports & Analysis
 *
 * @dependency jquery, google charts
 *
 * @author     Swashata@iPanelThemes.com
 * @version 2.0.0
 * @license    Themeforest Split
 */
!function(t,e,a,i){"use strict";google.charts.load("current",{packages:["corechart","bar"]});var n=!1;google.charts.setOnLoadCallback(function(){n=!0});var s="iptFSQMReport",r={settings:{},survey:{},feedback:{},pinfo:{},filters:{},wpnonce:"",ajaxurl:"",form_id:0,do_data:!1,do_data_nonce:"",do_names:!1,do_names_nonce:"",do_others:!1,do_others_nonce:"",do_date:!1,do_date_nonce:"",cmeta:{},material:!1,action:"ipt_fsqm_report",query_elements:{},sensitive_data:!1,sensitive_data_nonce:""};function o(e,a){this.element=e,this.jElement=t(e),this.settings=t.extend({},r,a),this._defaults=r,this._name=s,this.init()}o.prototype={init:function(){"undefined"==typeof wp||void 0===wp.customize?(this.progressBar=this.jElement.find(".ipt_fsqm_report_progressbar").eq(0).progressbar(),this.loader=this.jElement.find(".ipt_fsqm_report_ajax").eq(0),this.printer=this.jElement.next(".ipt_fsqm_report_print"),this.jElement.data("ipt_fsqm_report_op",this.settings),this.generateReport(0)):console&&console.warn&&console.warn("Customizer Detected. Shutting Down FSQM Reports")},generateReport:function(e){var a=this;this.settings;t.post(this.settings.ajaxurl,{action:this.settings.action,settings:this.settings.settings,wpnonce:this.settings.wpnonce,form_id:this.settings.form_id,do_data:this.settings.do_data,do_data_nonce:this.settings.do_data_nonce,sensitive_data:this.settings.sensitive_data,sensitive_data_nonce:this.settings.sensitive_data_nonce,do_names:this.settings.do_names,do_names_nonce:this.settings.do_names_nonce,do_others:this.settings.do_others,do_others_nonce:this.settings.do_others_nonce,do_date:this.settings.do_date,do_date_nonce:this.settings.do_date_nonce,query_elements:this.settings.query_elements,filters:this.settings.filters,doing:e},function(t){if(null===t)return a.loader.find(".ipt_uif_ajax_loader_icon").removeClass("ipt_uif_ajax_loader_spin"),void a.loader.find(".ipt_uif_ajax_loader_text").text("ServerSide Error");a.saveResponse(t);try{a.progressBar.progressbar("option","value",a.numberFormat(t.done))}catch(e){a.progressBar.progressbar(),a.progressBar.progressbar("option","value",a.numberFormat(t.done))}t.done>=100?a.initCharts():a.generateReport(++e)},"json").fail(function(t,e,i){a.loader.find(".ipt_uif_ajax_loader_inner").removeClass("ipt_uif_ajax_loader_animate"),a.loader.find(".ipt_uif_ajax_loader_text").text("HTTP ERROR: "+e+" "+i)})},saveResponse:function(a){var i,n,s,r,o,d,p,l,u,c,h,g,f,v,_,m,y,b,w,k,x,C,F,R,S,M,Q,T,q,j,A,N,P,z,E,B,L,O,D,I,H=this.settings;for(h in H.survey.elements)if(void 0!==a.survey[h]&&null!==a.survey[h])switch(void 0!==H.survey.data[h]&&"object"===t.type(H.survey.data[h])||(H.survey.data[h]={}),r=(s=this.jElement.find(".ipt_fsqm_report_survey_"+h+" table.table_to_update").eq(0)).find("td.data table"),o=s.next("div").find("table.others"),0===r.length&&(r=s),H.survey.elements[h].type){default:void 0!==iptFSQMReport.callbacks[H.survey.elements[h].type]&&"function"==typeof e[iptFSQMReport.callbacks[H.survey.elements[h].type]]&&e[iptFSQMReport.callbacks[H.survey.elements[h].type]].apply(this,[H.survey.elements[h],H.survey.data[h],a.survey[h],h,s,r,H]);break;case"radio":case"checkbox":case"select":case"thumbselect":case"pricing_table":for(u in a.survey[h])if("others_data"==u&&H.do_others){if(void 0!==a.survey[h].others_data&&a.survey[h].others_data.length)for(c in a.survey[h].others_data)n=a.survey[h].others_data[c],(d=o.find("tbody")).find("tr.empty").remove(),(p=t("<tr />")).append("<th>"+n.value+"</th>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&p.append("<td>"+n.email+"</td>"),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p)}else void 0!==H.survey.data[h][u]&&null!==H.survey.data[h][u]||(H.survey.data[h][u]=0),i=a.survey[h][u],isNaN(i)||(H.survey.data[h][u]+=i,H.do_data&&this.updateCount(r.find("td.data_op_"+u),H.survey.data[h][u]));break;case"slider":this.calculateSlider(a.survey[h],H.survey.data[h],r,r.find("tbody"),null,"slider_value_to_count_tr","slider_value_to_count",r.find("> tfoot > tr > th:first-child"),H.survey.elements[h].settings);break;case"range":this.calculateRange(a.survey[h],H.survey.data[h],r,r.find("tbody"),null,"range_value_to_count_tr","range_value_to_count",r.find("> tfoot > tr > th:first-child"),H.survey.elements[h].settings);break;case"grading":for(u in a.survey[h])"object"!=typeof H.survey.elements[h].settings.options[u]&&(H.survey.elements[h].settings.options[u]={label:H.survey.elements[h].settings.options[u],prefix:"",suffix:""}),H.do_data&&((g=r.find("tr.grading_"+u+".head")).length||(g=t('<tr class="grading_'+u+' head"><th class="head_th" rowspan="1">'+H.survey.elements[h].settings.options[u].label+"</th><th>"+iptFSQMReport.grading+"</th><th>"+iptFSQMReport.count+"</th></tr>"),r.find("tbody").append(g),g.after('<tr class="grading_'+u+'_avg avg head"><th>'+iptFSQMReport.avg+' <span class="avg_count">0</span> '+iptFSQMReport.avg_count+'</th><th><span class="avg">0</span></th><th>'+(H.survey.elements[h].settings.range?iptFSQMReport.avg_range:iptFSQMReport.avg_slider)+"</th></tr>"))),void 0!==H.survey.data[h][u]&&null!==H.survey.data[h][u]||(H.survey.data[h][u]={}),H.survey.elements[h].settings.prefix=H.survey.elements[h].settings.options[u].prefix,H.survey.elements[h].settings.suffix=H.survey.elements[h].settings.options[u].suffix,f=[a.survey[h][u],H.survey.data[h][u],r,r.find("tbody"),g,"grading_"+u+"_value_to_count_tr","grading_"+u+"_value_to_count",r.find("tr.grading_"+u+"_avg th"),H.survey.elements[h].settings],H.survey.elements[h].settings.range?this.calculateRange.apply(this,f):this.calculateSlider.apply(this,f),H.do_data&&g.find("th.head_th").attr("rowspan",r.find("tr.grading_"+u+"_value_to_count_tr").length+1);break;case"spinners":for(u in a.survey[h])H.do_data&&((g=r.find("tr.spinners_"+u+".head")).length||(g=t('<tr class="spinners_'+u+' head"><th class="head_th" rowspan="1">'+H.survey.elements[h].settings.options[u].label+"</th><th>"+iptFSQMReport.value+"</th><th>"+iptFSQMReport.count+"</th></tr>"),r.find("tbody").append(g),g.after('<tr class="spinners_'+u+'_avg avg head"><th>'+iptFSQMReport.avg+' <span class="avg_count">0</span> '+iptFSQMReport.avg_count+'</th><th><span class="avg">0</span></th><th>'+(H.survey.elements[h].settings.show_range?iptFSQMReport.avg_range:iptFSQMReport.avg_slider)+"</th></tr>"))),void 0===H.survey.data[h][u]&&(H.survey.data[h][u]={}),f=[a.survey[h][u],H.survey.data[h][u],r,r.find("tbody"),g,"spinners_"+u+"_value_to_count_tr","spinners_"+u+"_value_to_count",r.find("tr.spinners_"+u+"_avg th"),H.survey.elements[h].settings],this.calculateSlider.apply(this,f),H.do_data&&g.find("th.head_th").attr("rowspan",r.find("tr.spinners_"+u+"_value_to_count_tr").length+1);break;case"starrating":case"scalerating":for(u in a.survey[h])H.do_data?(g=r.find("tr.rating_"+u+".head")).length||(g=t('<tr class="rating_'+u+' head"><th class="head_th" rowspan="1">'+H.survey.elements[h].settings.options[u]+"</th><th>"+iptFSQMReport.rating+"</th><th>"+iptFSQMReport.count+"</th></tr>"),r.find("tbody").append(g),g.after('<tr class="rating_'+u+'_avg avg head"><th>'+iptFSQMReport.avg+' <span class="avg_count">0</span> '+iptFSQMReport.avg_count+'</th><th><span class="avg_img"></span></th><th><span class="avg">0</span> '+(H.survey.elements[h].settings.show_range?iptFSQMReport.avg_range:iptFSQMReport.avg_slider)+"</th></tr>")):g=null,void 0===H.survey.data[h][u]&&(H.survey.data[h][u]={}),f=[a.survey[h][u],H.survey.data[h][u],r,r.find("tbody"),g,"rating_"+u+"_value_to_count_tr","rating_"+u+"_value_to_count",r.find("tr.rating_"+u+"_avg th"),H.survey.elements[h].settings],this.calculateRating.apply(this,f),H.do_data&&g.find("th.head_th").attr("rowspan",r.find("tr.rating_"+u+"_value_to_count_tr").length+1);break;case"smileyrating":for(v in a.survey[h])if("feedback_data"==v&&H.do_others){if(void 0!==a.survey[h].feedback_data&&a.survey[h].feedback_data.length)for(_ in a.survey[h].feedback_data)n=a.survey[h].feedback_data[_],p=t("<tr>"),(d=o.find("tbody")).find("tr.empty").remove(),p.append("<th>"+n.entry+"</th>"),p.append("<td>"+n.rating+"</td>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&p.append("<td>"+n.email+"</td>"),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p)}else void 0===H.survey.data[h][v]&&(H.survey.data[h][v]=0),H.survey.data[h][v]+=a.survey[h][v],H.do_data&&this.updateCount(r.find("td."+v),H.survey.data[h][v]);break;case"likedislike":for(v in a.survey[h])if("feedback_data"==v&&H.do_others){if(void 0!==a.survey[h].feedback_data&&a.survey[h].feedback_data.length)for(_ in a.survey[h].feedback_data)n=a.survey[h].feedback_data[_],p=t("<tr>"),(d=o.find("tbody")).find("tr.empty").remove(),p.append("<th>"+n.entry+"</th>"),p.append("<td>"+n.rating+"</td>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&p.append("<td>"+n.email+"</td>"),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p)}else void 0===H.survey.data[h][v]&&(H.survey.data[h][v]=0),H.survey.data[h][v]+=a.survey[h][v],H.do_data&&r.find("td."+v).html(H.survey.data[h][v]);break;case"matrix_dropdown":for(m in a.survey[h])for(y in void 0===H.survey.data[h][m]&&(H.survey.data[h][m]={}),a.survey[h][m])for(u in void 0===H.survey.data[h][m][y]&&(H.survey.data[h][m][y]={}),a.survey[h][m][y])void 0===H.survey.data[h][m][y][u]&&(H.survey.data[h][m][y][u]=0),t.isNumeric(a.survey[h][m][y][u])&&(H.survey.data[h][m][y][u]+=a.survey[h][m][y][u]),H.do_data&&s.find("td.row-"+m+"-column-"+y+"-op-"+u).html(H.survey.data[h][m][y][u]);break;case"matrix":for(m in a.survey[h])for(y in void 0===H.survey.data[h][m]&&(H.survey.data[h][m]={}),a.survey[h][m])isNaN(a.survey[h][m][y])||(void 0===H.survey.data[h][m][y]?H.survey.data[h][m][y]=a.survey[h][m][y]:H.survey.data[h][m][y]+=a.survey[h][m][y],H.do_data&&this.updateCount(r.find("td.row_"+m+"_col_"+y),H.survey.data[h][m][y]));break;case"toggle":for(b in a.survey[h])isNaN(a.survey[h][b])||(void 0===H.survey.data[h][b]?H.survey.data[h][b]=a.survey[h][b]:H.survey.data[h][b]+=a.survey[h][b],H.do_data&&this.updateCount(r.find("td.data_op_"+b),H.survey.data[h][b]));break;case"sorting":for(v in a.survey[h])if(w=this.objectLength(H.survey.elements[h].settings.options),isNaN(a.survey[h][v])){if("orders"==v&&"object"==typeof a.survey[h][v])for(k in a.survey[h][v])if(""!==k){if(void 0===H.survey.data[h].orders[k]){if(H.survey.data[h].orders[k]=a.survey[h][v][k],H.do_data)for(u in x=k.split("-"),r.find("tbody tr").length&&r.find("tbody").append('<tr class="head"><th colspan="3"></th></tr>'),C=!0,x)void 0!==H.survey.elements[h].settings.options[x[u]]&&(l="",!0===C?(C=!1,l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+H.survey.elements[h].settings.options[x[u]].label+'</th><td rowspan="'+w+'" data="'+k+'"></td></tr>'):l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+H.survey.elements[h].settings.options[x[u]].label+"</th>",r.find("tbody").append(l))}else H.survey.data[h].orders[k]+=a.survey[h][v][k];H.do_data&&this.updateCount(r.find('td[data="'+k+'"]'),H.survey.data[h].orders[k])}}else void 0===H.survey.data[h][v]?H.survey.data[h][v]=a.survey[h][v]:H.survey.data[h][v]+=a.survey[h][v]}for(F in H.feedback.elements)if("object"==typeof a.feedback[F])switch((d=(s=this.jElement.find(".ipt_fsqm_report_feedback_"+F+" table.table_to_update").eq(0)).find("> tbody")).find("tr.empty").remove(),H.feedback.elements[F].type){default:void 0!==iptFSQMReport.callbacks[H.feedback.elements[F].type]&&"function"==typeof e[iptFSQMReport.callbacks[H.feedback.elements[F].type]]&&e[iptFSQMReport.callbacks[H.feedback.elements[F].type]].apply(this,[H.feedback.elements[F],H.feedback.data[F],a.feedback[F],F,s,H]);break;case"upload":for(R in a.feedback[F])if(Q=0===(M=(S=a.feedback[F][R]).uploads.length)?1:M,p=t("<tr />"),H.do_names&&(H.sensitive_data?p.append('<td rowspan="'+Q+'"><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+S.id+'">'+S.name+"</a></td>"):p.append('<td rowspan="'+Q+'">'+S.name+"</td>")),H.sensitive_data&&p.append('<td rowspan="'+Q+'">'+S.email+"</td>"),H.do_date&&p.append('<td rowspan="'+Q+'">'+S.date+"</td>"),0===M)p.append('<th rowspan="'+Q+'">'+iptFSQMReport.noupload+"</th>"),d.append(p);else for(T in S.uploads)j='<a href="'+(q=S.uploads[T]).guid+'" target="_blank" title="'+q.filename+'">',A="",""!==q.thumb_url&&void 0!==(A=q.thumb_url.split(".").pop())&&null!==A&&(A=A.toLowerCase()),""!==q.thumb_url&&void 0!==A&&null!==A&&-1!==t.inArray(A,["jpg","jpeg","gif","png","apng","tiff","bmp"])&&(j+='<img src="'+q.thumb_url+'" /><br />'),j+=q.name+"</a>",p.append("<th>"+j+"</th>"),d.append(p),p=t("<tr />");break;case"feedback_large":case"feedback_small":case"mathematical":for(N in a.feedback[F])n=a.feedback[F][N],(p=t("<tr />")).append("<th>"+n.value+"</th>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&(p.append("<td>"+n.email+"</td>"),p.append("<td>"+n.phone+"</td>")),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p);break;case"signature":for(N in a.feedback[F])n=a.feedback[F][N],p=t("<tr />"),""!==n.value?p.append('<th><img src="data:image/png;base64,'+n.value+'" style="max-width: 400px; height: auto;" /></th>'):p.append("<th></th>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&(p.append("<td>"+n.email+"</td>"),p.append("<td>"+n.phone+"</td>")),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p);break;case"gps":for(N in a.feedback[F])n=a.feedback[F][N],p="<tr>",H.do_names&&(p+='<td rowspan="4">',H.sensitive_data?p+='<a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a>":p+=n.name,p+="</td>"),p+='<th colspan="2"><a target="_blank" href="https://maps.google.com/maps?z=12&t=m&q=loc:'+n.lat+"+"+n.long+'"><img src="'+n.map+'" height="300" width="500" /></a></th>',H.sensitive_data&&(p+='<td rowspan="4">'+n.email+"</td>"),H.do_date&&(p+='<td rowspan="4">'+n.date+"</td>"),p+="</tr>",p+="<tr><th>"+H.feedback.elements[F].settings.location_name_label+"</th><td>"+n.location_name+"</td></tr>",p+="<tr><th>"+H.feedback.elements[F].settings.lat_label+"</th><td>"+n.lat+"</td></tr>",p+="<tr><th>"+H.feedback.elements[F].settings.long_label+"</th><td>"+n.long+"</td></tr>",d.append(p);break;case"feedback_matrix":for(y in P='<table class="ipt_fsqm_preview">',z="<tr><th></th>",H.feedback.elements[F].settings.columns)z+="<th>"+H.feedback.elements[F].settings.columns[y]+"</th>";for(m in P+="<thead>"+(z+="</tr>")+"</thead><tfoot>"+z+"</tfoot><tbody>",H.feedback.elements[F].settings.rows){for(y in P+="<tr><th>"+H.feedback.elements[F].settings.rows[m]+"</th>",H.feedback.elements[F].settings.columns)P+='<td class="row-'+m+"-col-"+y+'"></td>';P+="</tr>"}for(N in P=t(P+="</tbody></table>"),a.feedback[F]){for(m in n=a.feedback[F][N],E=P.clone(),n.matrix)for(y in n.matrix[m])E.find(".row-"+m+"-col-"+y).html(n.matrix[m][y]);p="<tr>",H.do_names&&(H.sensitive_data?p+='<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>":p+="<td>"+n.name+"</td>"),p+='<td class="data matrix"></td>',H.sensitive_data&&(p+="<td>"+n.email+"</td>"),H.do_date&&(p+="<td>"+n.date+"</td></tr>"),(p=t(p)).find("td.matrix").append(E),d.append(p)}}for(B in H.pinfo.elements)if("object"==typeof a.pinfo[B])switch((d=(s=this.jElement.find(".ipt_fsqm_report_pinfo_"+B+" table.table_to_update").eq(0)).find("> tbody")).find("tr.empty").remove(),r=s.find("td.data table"),o=s.next("div").find("table.others"),0===r.length&&(r=s),H.pinfo.elements[B].type){default:void 0!==iptFSQMReport.callbacks[H.pinfo.elements[B].type]&&"function"==typeof e[iptFSQMReport.callbacks[H.pinfo.elements[B].type]]&&e[iptFSQMReport.callbacks[H.pinfo.elements[B].type]].apply(this,[H.pinfo.elements[B],H.pinfo.data[B],a.pinfo[B],B,s,r,H]);break;case"f_name":case"l_name":case"email":case"phone":case"p_name":case"p_email":case"p_phone":case"textinput":case"textarea":case"password":case"keypad":case"datetime":case"hidden":for(N in a.pinfo[B])n=a.pinfo[B][N],(p=t("<tr />")).append("<th>"+n.value+"</th>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&(p.append("<td>"+n.email+"</td>"),p.append("<td>"+n.phone+"</td>")),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p);break;case"repeatable":for(N in a.pinfo[B])n=a.pinfo[B][N],(p=t("<tr />")).append('<td class="data">'+n.value+"</td>"),H.do_names&&(H.sensitive_data?p.append('<td style="vertical-align: top;"><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append('<td style="vertical-align: top;">'+n.name+"</td>")),H.sensitive_data&&(p.append('<td style="vertical-align: top;">'+n.email+"</td>"),p.append('<td style="vertical-align: top;">'+n.phone+"</td>")),H.do_date&&p.append('<td style="vertical-align: top;">'+n.date+"</td>"),d.append(p);break;case"guestblog":for(N in a.pinfo[B]){if(n=a.pinfo[B][N],(p=t("<tr />")).append("<th>"+n.title+"</th>"),H.do_names&&(H.sensitive_data?p.append('<td rowspan="3"><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append('<td rowspan="3">'+n.name+"</td>")),H.sensitive_data&&(p.append('<td rowspan="3">'+n.email+"</td>"),p.append('<td rowspan="3">'+n.phone+"</td>")),H.do_date&&p.append('<td rowspan="3">'+n.date+"</td>"),d.append(p),(p=t("<tr />")).append("<td>"+n.value+"</td>"),d.append(p),p=t("<tr />"),D=t("<td />"),n.taxonomy.length)for(L in n.taxonomy)if(D.append("<h4>"+n.taxonomy[L].tax),n.taxonomy[L].terms.length){for(O in I=t('<ul class="ul-disc" />'),n.taxonomy[L].terms)I.append("<li>"+n.taxonomy[L].terms[O]+"</li>");D.append(I)}p.append(D),d.append(p)}break;case"address":for(N in a.pinfo[B])n=a.pinfo[B][N],(p=t("<tr />")).append("<th>"+n.values.recipient+"</th>"),p.append("<td>"+n.values.line_one+"</td>"),p.append("<td>"+n.values.line_two+"</td>"),p.append("<td>"+n.values.line_three+"</td>"),p.append("<td>"+n.values.country+"</td>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&(p.append("<td>"+n.email+"</td>"),p.append("<td>"+n.phone+"</td>")),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p);break;case"payment":for(N in a.pinfo[B])n=a.pinfo[B][N],(p=t("<tr />")).append("<th>"+n.invoice+"</th>"),p.append("<td>"+n.status+"</td>"),p.append("<th>"+n.txn+"</th>"),p.append("<td>"+n.gateway+"</td>"),p.append("<th>"+n.total+"</th>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&(p.append("<td>"+n.email+"</td>"),p.append("<td>"+n.phone+"</td>")),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p);break;case"p_radio":case"p_checkbox":case"p_select":for(u in a.pinfo[B])if("others_data"==u&&H.do_others){if(void 0!==a.pinfo[B].others_data&&a.pinfo[B].others_data.length)for(c in a.pinfo[B].others_data)n=a.pinfo[B].others_data[c],(d=o.find("tbody")).find("tr.empty").remove(),(p=t("<tr />")).append("<th>"+n.value+"</th>"),H.do_names&&(H.sensitive_data?p.append('<td><a class="thickbox" href="'+H.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+n.id+'">'+n.name+"</a></td>"):p.append("<td>"+n.name+"</td>")),H.sensitive_data&&p.append("<td>"+n.email+"</td>"),H.do_date&&p.append("<td>"+n.date+"</td>"),d.append(p)}else void 0!==H.pinfo.data[B][u]&&null!==H.pinfo.data[B][u]||(H.pinfo.data[B][u]=0),i=a.pinfo[B][u],isNaN(i)||(H.pinfo.data[B][u]+=i,H.do_data&&this.updateCount(r.find("td.data_op_"+u),H.pinfo.data[B][u]));break;case"s_checkbox":for(b in a.pinfo[B])isNaN(a.pinfo[B][b])||(void 0===H.pinfo.data[B][b]?H.pinfo.data[B][b]=a.pinfo[B][b]:H.pinfo.data[B][b]+=a.pinfo[B][b],H.do_data&&this.updateCount(r.find("td.data_op_"+b),H.pinfo.data[B][b]));break;case"p_sorting":for(v in a.pinfo[B])if(w=this.objectLength(H.pinfo.elements[B].settings.options),isNaN(a.pinfo[B][v])){if("orders"==v&&"object"==typeof a.pinfo[B][v])for(k in a.pinfo[B][v])if(""!==k){if(void 0===H.pinfo.data[B].orders[k]){if(H.pinfo.data[B].orders[k]=a.pinfo[B][v][k],H.do_data)for(u in x=k.split("-"),r.find("tbody tr").length&&r.find("tbody").append('<tr class="head"><th colspan="3"></th></tr>'),C=!0,x)void 0!==H.pinfo.elements[B].settings.options[x[u]]&&(l="",!0===C?(C=!1,l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+H.pinfo.elements[B].settings.options[x[u]].label+'</th><td rowspan="'+w+'" data="'+k+'"></td></tr>'):l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+H.pinfo.elements[B].settings.options[x[u]].label+"</th>",r.find("tbody").append(l))}else H.pinfo.data[B].orders[k]+=a.pinfo[B][v][k];H.do_data&&this.updateCount(r.find('td[data="'+k+'"]'),H.pinfo.data[B].orders[k])}}else void 0===H.pinfo.data[B][v]?H.pinfo.data[B][v]=a.pinfo[B][v]:H.pinfo.data[B][v]+=a.pinfo[B][v]}},initCharts:function(){var e=this;this.settings;this.jElement.find(".ipt_fsqm_report_container").show(),n?e.drawCharts():google.charts.setOnLoadCallback(function(){n=!0,e.drawCharts()}),this.printer.show().find("button.ipt_fsqm_report_print").on("click",function(){e.jElement.printElement({leaveOpen:!0,printMode:"popup",pageTitle:a.title,printBodyOptions:{classNameToAdd:e.jElement.parents(".ipt_uif_common").attr("class"),styleToAdd:"padding:10px;margin:10px;background: #fff none;color:#333;font-size:12px;"}})}),"function"==typeof t.fn.iptPluginUIFAdmin&&this.jElement.iptPluginUIFAdmin("reinitTBAnchors"),this.progressBar.fadeOut("fast"),this.loader.find(".ipt_uif_ajax_loader_text").html(iptFSQMReport.charts)},drawCharts:function(){this.loader.fadeOut("fast");var i,n,s,r,o,d,p,l,u,c,h,g,f,v,_,m,y,b,w,k,x,C,F,R,S,M,Q,T,q=this.settings;for(i in q.survey.data)switch(r=(s=this.jElement.find(".ipt_fsqm_report_survey_"+i+" table.table_to_update").eq(0)).find("td.visualization"),p=s.find("td.data"),S=this.getChartTitle("mcq",i),M=this.getChartLegend("mcq",i),q.survey.elements[i].type){default:void 0!==iptFSQMReport.gcallbacks[q.survey.elements[i].type]&&"function"==typeof e[iptFSQMReport.gcallbacks[q.survey.elements[i].type]]&&e[iptFSQMReport.gcallbacks[q.survey.elements[i].type]].apply(this,[q.survey.elements[i],q.survey.data[i],i,s,p,q,S,M]);break;case"radio":case"checkbox":case"select":case"thumbselect":case"pricing_table":for(l in d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label],q.survey.data[i])void 0!==q.survey.data[i][l]&&("others"==l&&void 0!==q.survey.elements[i].settings.o_label&&!0===q.survey.elements[i].settings.others?o[o.length]=[q.survey.elements[i].settings.o_label.replace(/(<([^>]+)>)/gi,""),q.survey.data[i][l]]:void 0!==q.survey.elements[i].settings.options[l]&&(o[o.length]=[q.survey.elements[i].settings.options[l].label.replace(/(<([^>]+)>)/gi,""),q.survey.data[i][l]]));switch(u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"smileyrating":for(c in d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label],q.survey.data[i])void 0!==q.survey.data[i][c]&&"feedback_data"!=c&&void 0!==q.survey.elements[i].settings.labels[c]&&(o[o.length]=[q.survey.elements[i].settings.labels[c].replace(/(<([^>]+)>)/gi,""),q.survey.data[i][c]]);switch(u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"likedislike":for(c in d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label],q.survey.data[i])void 0!==q.survey.data[i][c]&&"feedback_data"!=c&&void 0!==q.survey.elements[i].settings[c]&&(o[o.length]=[q.survey.elements[i].settings[c].replace(/(<([^>]+)>)/gi,""),q.survey.data[i][c]]);switch(u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"slider":d=a.createElement("div"),r.append(d),u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie"),F=this.getChartAverage("mcq",i,!1),this.populateSliderChart(q.survey.data[i],u,300,d,C,F,S,M);break;case"range":d=a.createElement("div"),r.append(d),u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),this.populateRangeChart(q.survey.data[i],u,300,d,q.survey.elements[i].settings,S,M);break;case"grading":for(l in C=this.getChartType("mcq",i,"pie"),F=this.getChartAverage("mcq",i,!1),q.survey.data[i])void 0!==q.survey.elements[i].settings.options[l]&&(h=(h="object"==typeof q.survey.elements[i].settings.options[l]?q.survey.elements[i].settings.options[l].label:q.survey.elements[i].settings.options[l]).replace(/(<([^>]+)>)/gi,""),g="grading",f=t('<td colspan=""></td>'),q.do_data?(f.attr("rowspan",s.find("tbody tr."+g+"_"+l+"_value_to_count_tr").length+2),s.find("tbody tr."+g+"_"+l+".head").prepend(f)):((Q=t("<tr></tr>")).append(f),s.find("tbody").append(Q)),d=a.createElement("div"),f.append(d),!0===q.survey.elements[i].settings.range?this.populateRangeChart(q.survey.data[i][l],h,"auto",d,q.survey.elements[i].settings,S,M):this.populateSliderChart(q.survey.data[i][l],h,"auto",d,C,F,S,M));break;case"spinners":case"starrating":case"scalerating":for(l in C=this.getChartType("mcq",i,"pie"),q.survey.data[i])void 0!==q.survey.elements[i].settings.options[l]&&("object"==typeof(h=q.survey.elements[i].settings.options[l])&&(h=h.label),h=h.replace(/(<([^>]+)>)/gi,""),g="spinners"==q.survey.elements[i].type?"spinners":"rating",f=t('<td colspan=""></td>'),q.do_data?(f.attr("rowspan",s.find("tbody tr."+g+"_"+l+"_value_to_count_tr").length+2),s.find("tbody tr."+g+"_"+l+".head").prepend(f)):((Q=t("<tr></tr>")).append(f),s.find("tbody").append(Q)),d=a.createElement("div"),f.append(d),F=!1,"spinners"===q.survey.elements[i].type&&(F=this.getChartAverage("mcq",i,!1)),this.populateSliderChart(q.survey.data[i][l],h,"auto",d,C,F,S,M));break;case"matrix_dropdown":for(_ in T=[""],q.survey.elements[i].settings.options)T[T.length]=q.survey.elements[i].settings.options[_].label.replace(/(<([^>]+)>)/gi,"");for(v in q.survey.elements[i].settings.rows){for(m in(o=[])[0]=T,void 0===q.survey.data[i][v]&&(q.survey.data[i][v]=[]),q.survey.elements[i].settings.columns){for(l in void 0===q.survey.data[i][v][m]&&(q.survey.data[i][v][m]=[]),y=[q.survey.elements[i].settings.columns[m].replace(/(<([^>]+)>)/gi,"")],q.survey.elements[i].settings.options)y[y.length]=void 0===q.survey.data[i][v][m][l]?0:q.survey.data[i][v][m][l];o[o.length]=y}switch(d=a.createElement("div"),r.filter(".row-"+v).append(d),u=q.survey.elements[i].settings.rows[v].replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"bar":case"sbar":R="sbar"==C?{isStacked:!0}:{},this.drawBarChart(d,o,"","",u,300,R,S,M);break;case"column":case"scolumn":R="scolumn"==C?{isStacked:!0}:{},this.drawColumnChart(d,o,"","",u,300,R,S,M)}}break;case"matrix":for(_ in(o=[])[0]=[""],q.survey.elements[i].settings.columns)o[0][o[0].length]=q.survey.elements[i].settings.columns[_].replace(/(<([^>]+)>)/gi,"");for(b in q.survey.elements[i].settings.rows){for(w in void 0===q.survey.data[i][b]&&(q.survey.data[i][b]=[]),y=[q.survey.elements[i].settings.rows[b].replace(/(<([^>]+)>)/gi,"")],q.survey.elements[i].settings.columns)void 0===q.survey.data[i][b][w]?y[y.length]=0:y[y.length]=parseFloat(q.survey.data[i][b][w]);o[o.length]=y}switch(d=a.createElement("div"),r.append(d),u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"bar":case"sbar":R="sbar"==C?{isStacked:!0}:{},this.drawBarChart(d,o,"","",u,300,R,S,M);break;case"column":case"scolumn":R="scolumn"==C?{isStacked:!0}:{},this.drawColumnChart(d,o,"","",u,300,R,S,M)}break;case"toggle":switch((o=[])[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],o[1]=[q.survey.elements[i].settings.on,q.survey.data[i].on],o[2]=[q.survey.elements[i].settings.off,q.survey.data[i].off],d=a.createElement("div"),r.append(d),u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"sorting":for(_ in k=[],q.survey.elements[i].settings.options)k[k.length]=q.survey.elements[i].settings.options[_].label.replace(/(<([^>]+)>)/gi,"");switch((o=[])[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],o[1]=[iptFSQMReport.g_data.s_presets,{v:void 0!==q.survey.data[i].preset?q.survey.data[i].preset:0,f:(void 0!==q.survey.data[i].preset?q.survey.data[i].preset:0)+"\n"+iptFSQMReport.g_data.s_order+"\n"+k.join("\n")}],o[2]=[iptFSQMReport.g_data.s_others,{v:void 0!==q.survey.data[i].other?q.survey.data[i].other:0,f:(void 0!==q.survey.data[i].other?q.survey.data[i].other:0)+"\n"+iptFSQMReport.g_data.s_order_custom}],d=a.createElement("div"),r.append(d),u=q.survey.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("mcq",i,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}for(x in o=[],q.survey.data[i].orders.sort(function(t,e){return e-t}),o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],q.survey.data[i].orders){for(_ in h=[],c=x.split("-"))void 0!==q.survey.elements[i].settings.options[c[_]]&&(h[h.length]=q.survey.elements[i].settings.options[c[_]].label.replace(/(<([^>]+)>)/gi,""));o[o.length]=[x,{v:q.survey.data[i].orders[x],f:q.survey.data[i].orders[x]+"\n"+iptFSQMReport.g_data.s_order+"\n"+h.join("\n")}]}switch(d=a.createElement("div"),r.append(d),C=this.getChartType("mcq",i,"pie")){default:case"pie":this.drawPieChart(d,o,iptFSQMReport.g_data.s_breakdown,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M)}}for(n in q.pinfo.data)switch(r=(s=this.jElement.find(".ipt_fsqm_report_pinfo_"+n+" table.table_to_update").eq(0)).find("td.visualization"),p=s.find("td.data"),S=this.getChartTitle("pinfo",n),M=this.getChartLegend("pinfo",n),q.pinfo.elements[n].type){default:void 0!==iptFSQMReport.gcallbacks[q.pinfo.elements[n].type]&&"function"==typeof e[iptFSQMReport.gcallbacks[q.pinfo.elements[n].type]]&&e[iptFSQMReport.gcallbacks[q.pinfo.elements[n].type]].apply(this,[q.pinfo.elements[n],q.pinfo.data[n],n,s,p,q,S,M]);break;case"p_radio":case"p_checkbox":case"p_select":for(l in d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label],q.pinfo.data[n])void 0!==q.pinfo.data[n][l]&&("others"==l&&void 0!==q.pinfo.elements[n].settings.o_label&&!0===q.pinfo.elements[n].settings.others?o[o.length]=[q.pinfo.elements[n].settings.o_label.replace(/(<([^>]+)>)/gi,""),q.pinfo.data[n][l]]:void 0!==q.pinfo.elements[n].settings.options[l]&&(o[o.length]=[q.pinfo.elements[n].settings.options[l].label.replace(/(<([^>]+)>)/gi,""),q.pinfo.data[n][l]]));switch(u=q.pinfo.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("pinfo",n,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"s_checkbox":switch((o=[])[0]=[iptFSQMReport.g_data.sc_label,iptFSQMReport.g_data.ct_label],o[1]=[iptFSQMReport.g_data.scon_label,q.pinfo.data[n].checked],o[2]=[iptFSQMReport.g_data.scoff_label,q.pinfo.data[n].unchecked],d=a.createElement("div"),r.append(d),u=q.pinfo.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("pinfo",n,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"p_sorting":for(_ in k=[],q.pinfo.elements[n].settings.options)k[k.length]=q.pinfo.elements[n].settings.options[_].label.replace(/(<([^>]+)>)/gi,"");switch((o=[])[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],o[1]=[iptFSQMReport.g_data.s_presets,{v:void 0!==q.pinfo.data[n].preset?q.pinfo.data[n].preset:0,f:(void 0!==q.pinfo.data[n].preset?q.pinfo.data[n].preset:0)+"\n"+iptFSQMReport.g_data.s_order+"\n"+k.join("\n")}],o[2]=[iptFSQMReport.g_data.s_others,{v:void 0!==q.pinfo.data[n].other?q.pinfo.data[n].other:0,f:(void 0!==q.pinfo.data[n].other?q.pinfo.data[n].other:0)+"\n"+iptFSQMReport.g_data.s_order_custom}],d=a.createElement("div"),r.append(d),u=q.pinfo.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=this.getChartType("pinfo",n,"pie")){default:case"pie":this.drawPieChart(d,o,u,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",u,300,{},S,M)}for(x in o=[],q.pinfo.data[n].orders.sort(function(t,e){return e-t}),o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],q.pinfo.data[n].orders){for(_ in h=[],c=x.split("-"))void 0!==q.pinfo.elements[n].settings.options[c[_]]&&(h[h.length]=q.pinfo.elements[n].settings.options[c[_]].label.replace(/(<([^>]+)>)/gi,""));o[o.length]=[x,{v:q.pinfo.data[n].orders[x],f:q.pinfo.data[n].orders[x]+"\n"+iptFSQMReport.g_data.s_order+"\n"+h.join("\n")}]}switch(d=a.createElement("div"),r.append(d),C=this.getChartType("pinfo",n,"pie")){default:case"pie":this.drawPieChart(d,o,iptFSQMReport.g_data.s_breakdown,{},S,M);break;case"bar":this.drawBarChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M);break;case"column":this.drawColumnChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M)}}},getChartType:function(t,e,a){var i;try{i=this.settings.cmeta[t].charttype[e]}catch(t){i=a}return void 0===i&&(i=a),i},getChartAverage:function(t,e){return this._getChartToggles(t,e,"average")},getChartTitle:function(t,e){return this._getChartToggles(t,e,"title")},getChartLegend:function(t,e){return this._getChartToggles(t,e,"legend")},_getChartToggles:function(t,e,a){var i;try{i=this.settings.cmeta[t].toggles[e][a]}catch(t){i=!1}return void 0===i&&(i=!1),!!i},objectLength:function(t){if("object"!=typeof t)return!1;var e,a=0;for(e in t)t.hasOwnProperty(e)&&a++;return a},numberFormat:function(t){var e=parseFloat(t);return isNaN(e)?t:parseInt(100*t,10)/100},appendToTableInPositionForMinMax:function(t,e,a,i,n,s,r,o,d){if(s.length){var p,l,u,c,h,g,f=parseFloat(s[0]),v=parseFloat(s[1]);if(r=parseFloat(r),o=parseFloat(o),d=parseFloat(d),e.find("tbody tr td."+n).length&&!(isNaN(f)||isNaN(v)||isNaN(r)||isNaN(o)||isNaN(d)))for(p=f,l=f;p>=r||l<=o;p-=d,l+=d){if((u=e.find('td[data-value-min="'+p+'"].'+n)).length)for(c=v,h=v;c>=r||h<=o;c-=d,h+=d){if(u.filter('td[data-value-max="'+c+'"].'+n).length)return void u.filter('td[data-value-max="'+c+'"].'+n).parent().after(t);if(u.filter('td[data-value-max="'+h+'"].'+n).length)return void u.filter('td[data-value-max="'+h+'"].'+n).parent().before(t)}if((g=e.find('td[data-value-min="'+l+'"].'+n)).length)for(c=v,h=v;c>=r||h<=o;c-=d,h+=d){if(g.filter('td[data-value-max="'+c+'"].'+n).length)return void g.filter('td[data-value-max="'+c+'"].'+n).parent().after(t);if(g.filter('td[data-value-max="'+h+'"].'+n).length)return void g.filter('td[data-value-max="'+h+'"].'+n).parent().before(t)}}null===i||void 0===i?a.append(t):i.after(t)}else null===i?a.append(t):i.after(t)},appendToTableInPositionForVal:function(t,e,a,i,n,s,r,o,d){var p,l,u,c;if(s=parseFloat(s),r=parseFloat(r),o=parseFloat(o),d=parseFloat(d),e.find("tbody tr td."+n).length&&!(isNaN(s)||isNaN(r)||isNaN(o)||isNaN(d)))for(p=s,l=s;p>=r||l<=o;p-=d,l+=d){if((u=e.find('td[data-value="'+p+'"].'+n)).length)return void u.parent().after(t);if((c=e.find('td[data-value="'+l+'"].'+n)).length)return void c.parent().before(t)}null===i||void 0===i?a.append(t):i.after(t)},updateCount:function(t,e){t.html(e)},calculateRating:function(t,e,a,i,n,s,r,o,d){var p,l,u,c,h,g,f,v,_=0,m=0;for(p in t)if(!isNaN(t[p])&&(_+=p*t[p],m+=t[p],void 0===e[p]?e[p]=t[p]:e[p]+=t[p],this.settings.do_data))if((l=a.find('td[data-value="'+p+'"].'+r)).length)l.text(e[p]);else{for(u="",c=1;c<=d.max;c++)u+=c<=p?iptFSQMReport.rating_img_full:iptFSQMReport.rating_img_empty;g='<tr class="'+s+'"><th>'+u+'</th><td class="'+r+'" data-value="'+p+'">'+e[p]+"</td></tr>",this.appendToTableInPositionForVal(g,a,i,n,r,p,d.min,d.max,d.step)}if(void 0===e.average_meta?e.average_meta={total:_,count:m}:(e.average_meta.total+=_,e.average_meta.count+=m),e.average=this.numberFormat(e.average_meta.total/e.average_meta.count),this.settings.do_data){for(f="",v=Math.floor(e.average),h=1;h<=d.max;h++)v>=h?f+=iptFSQMReport.rating_img_full:v+1===h&&h===Math.round(e.average)?f+=iptFSQMReport.rating_img_half:f+=iptFSQMReport.rating_img_empty;this.updateCount(o.find("span.avg"),e.average),this.updateCount(o.find("span.avg_img"),f),this.updateCount(o.find("span.avg_count"),e.average_meta.count)}},calculateSlider:function(t,e,a,i,n,s,r,o,d){var p,l,u,c=0,h=0;for(p in void 0===d.prefix&&(d.prefix=""),void 0===d.suffix&&(d.suffix=""),t)isNaN(t[p])||(c+=p*t[p],h+=t[p],void 0===e[p]?e[p]=t[p]:e[p]+=t[p],this.settings.do_data&&((l=a.find('td[data-value="'+p+'"].'+r)).length?l.text(e[p]):(u='<tr class="'+s+'"><th>'+d.prefix+p+d.suffix+'</th><td class="'+r+'" data-value="'+p+'">'+e[p]+"</td></tr>",this.appendToTableInPositionForVal(u,a,i,n,r,p,d.min,d.max,d.step))));void 0===e.average_meta?e.average_meta={total:c,count:h}:(e.average_meta.total+=c,e.average_meta.count+=h),e.average=this.numberFormat(e.average_meta.total/e.average_meta.count),this.settings.do_data&&(this.updateCount(o.find("span.avg"),d.prefix+e.average+d.suffix),this.updateCount(o.find("span.avg_count"),e.average_meta.count))},calculateRange:function(t,e,a,i,n,s,r,o,d){var p,l,u,c,h,g,f=0,v=0,_=0;for(p in void 0===d.prefix&&(d.prefix=""),void 0===d.suffix&&(d.suffix=""),t)isNaN(t[p])||(l=p.split(","),_+=t[p],f+=l[0]*t[p],v+=l[1]*t[p],u=l[0]+iptFSQMReport.range_text+l[1],g=d.prefix+l[0]+d.suffix+iptFSQMReport.range_text+d.prefix+l[1]+d.suffix,void 0===e[u]?e[u]=t[p]:e[u]+=t[p],this.settings.do_data&&((c=a.find('td[data-value-min="'+l[0]+'"][data-value-max="'+l[1]+'"].'+r)).length?c.text(e[u]):(h='<tr class="'+s+'"><th>'+g+'</th><td class="'+r+'" data-value-min="'+l[0]+'" data-value-max="'+l[1]+'">'+e[u]+"</td></tr>",this.appendToTableInPositionForMinMax(h,a,i,n,r,l,d.min,d.max,d.step))));void 0===e.average_meta?e.average_meta={total_min:f,total_max:v,count:_}:(e.average_meta.total_min+=f,e.average_meta.total_max+=v,e.average_meta.count+=_),e.average=d.prefix+this.numberFormat(e.average_meta.total_min/e.average_meta.count)+d.suffix+iptFSQMReport.range_text+d.prefix+this.numberFormat(e.average_meta.total_max/e.average_meta.count)+d.suffix,this.settings.do_data&&(this.updateCount(o.find("span.avg"),e.average),this.updateCount(o.find("span.avg_count"),e.average_meta.count))},populateSliderChart:function(t,e,a,i,n,s,r,o){var d,p,l,u=[];for(d in t)isNaN(d)||(u[u.length]=parseFloat(d));n=void 0===n?"bar":n,u.sort(function(t,e){return!1===s&&"column"!==n?e-t:t-e});var c=[];for(d in c[c.length]=[iptFSQMReport.g_data.sl_label,iptFSQMReport.g_data.en_label],u)c[c.length]=[(!1===s&&"area"!==n?"":0)+u[d],t[u[d]]];if(s){for(p=0;p<c.length;p++)0===p?(c[p][c[p].length]=iptFSQMReport.g_data.perv,c[p][c[p].length]=iptFSQMReport.g_data.perc):(c[p][c[p].length]=this.numberFormat(c[p][0]*c[p][1]/t.average_meta.total*100),c[p][c[p].length]=this.numberFormat(c[p][1]/t.average_meta.count*100));p=c[0].length-2,(l={seriesType:"bars",series:{}}).series[p]={type:"line",format:"percent"},l.series[p-1]={type:"line",format:"percent"},this.drawComboChart(i,c,iptFSQMReport.g_data.sl_label,iptFSQMReport.g_data.en_label,e,a,l,r,o)}else switch(l={hAxis:{baseline:"automatic"}},n){default:case"bar":this.drawBarChart(i,c,iptFSQMReport.g_data.en_label,iptFSQMReport.g_data.sl_label,e,a,l,r,o);break;case"column":this.drawColumnChart(i,c,iptFSQMReport.g_data.en_label,iptFSQMReport.g_data.sl_label,e,a,l,r,o);break;case"area":this.drawAreaChart(i,c,iptFSQMReport.g_data.en_label,iptFSQMReport.g_data.sl_label,e,a,l,r,o)}},populateRangeChart:function(t,e,a,i,n,s,r){var o,d,p=[];for(o in t)2==(d=o.split(iptFSQMReport.range_text)).length&&(p[p.length]=d);p.sort(function(t,e){return t[0]>e[0]?-1:t[0]<e[0]?1:t[1]>e[1]?-1:t[1]<e[1]?1:0});var l,u,c,h=[];for(l in p)c=t[u=p[l].join(iptFSQMReport.range_text)]+" "+(1==t[u]?iptFSQMReport.g_data.sl_head_label_s:iptFSQMReport.g_data.sl_head_label_p),h[h.length]=[c,parseFloat(n.min),parseFloat(p[l][0]),parseFloat(p[l][1]),parseFloat(n.max)];this.drawCandlestickChart(i,h,iptFSQMReport.g_data.sg_label,iptFSQMReport.g_data.ct_label,e,a,n,{},s,r)},drawPieChart:function(i,n,s,r,o,d){o=void 0===o||o,d=void 0===d||d;var p=google.visualization.arrayToDataTable(n),l=new google.visualization.PieChart(i),u={title:s,is3D:!0,height:300,backgroundColor:"transparent",legend:{position:"bottom"},tooltip:{isHTML:!0}};void 0===r&&(r={}),u=t.extend({},r,u),!1===o&&(u.title=void 0),!1===d&&(u.legend.position="none"),l.draw(p,u),t(e).resize(t.debounce(250,function(){t(i).html(""),setTimeout(function(){(l=new google.visualization.PieChart(i)).draw(p,u)},200)})),t(a).on("fsqm.chartRedraw",t.debounce(250,function(){t(i).html(""),setTimeout(function(){(l=new google.visualization.PieChart(i)).draw(p,u)},200)}))},drawAreaChart:function(i,n,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=google.visualization.arrayToDataTable(n),h=new google.visualization.AreaChart(i),g={hAxis:{title:s,baseline:0,gridlines:{count:-1}},vAxis:{title:r,baseline:0,gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};void 0===p&&(p={}),g=t.extend({},p,g),!1===l&&(g.title=void 0),!1===u&&(g.legend.position="none",g.axisTitlesPosition="none",g.hAxis.textPosition="none",g.vAxis.textPosition="none",g.hAxis.gridlines.color="none",g.vAxis.gridlines.color="none"),h.draw(c,g),t(e).resize(t.debounce(250,function(){t(i).html(""),setTimeout(function(){(h=new google.visualization.AreaChart(i)).draw(c,g)},200)})),t(a).on("fsqm.chartRedraw",t.debounce(250,function(){t(i).html(""),setTimeout(function(){(h=new google.visualization.AreaChart(i)).draw(c,g)},200)}))},drawCandlestickChart:function(i,n,s,r,o,d,p,l,u,c){u=void 0===u||u,c=void 0===c||c;var h=google.visualization.arrayToDataTable(n,!0),g=new google.visualization.CandlestickChart(i),f={hAxis:{title:s,gridlines:{count:-1}},vAxis:{title:r,minValue:parseFloat(p.min),maxValue:parseFloat(p.max),viewWindow:{max:parseFloat(p.max),min:parseFloat(p.min)},gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"none"}};void 0===l&&(l={}),f=t.extend({},l,f),!1===u&&(f.title=void 0),!1===c&&(f.legend.position="none",f.axisTitlesPosition="none",f.hAxis.textPosition="none",f.vAxis.textPosition="none",f.hAxis.gridlines.color="none",f.vAxis.gridlines.color="none"),g.draw(h,f),t(e).resize(t.debounce(250,function(){t(i).html(""),setTimeout(function(){(g=new google.visualization.CandlestickChart(i)).draw(h,f)},200)})),t(a).on("fsqm.chartRedraw",t.debounce(250,function(){t(i).html(""),setTimeout(function(){(g=new google.visualization.CandlestickChart(i)).draw(h,f)},200)}))},drawBarChart:function(i,n,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=this,h=google.visualization.arrayToDataTable(n),g=c.settings.material?new google.charts.Bar(i):new google.visualization.BarChart(i),f={hAxis:{title:s,baseline:0,gridlines:{count:-1}},vAxis:{title:r,gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};c.settings.material&&(f.bars="horizontal"),void 0===p&&(p={}),f=t.extend({},p,f),!1===l&&(f.title=void 0),!1===u&&(f.legend.position="none",f.axisTitlesPosition="none",f.hAxis.textPosition="none",f.vAxis.textPosition="none",f.hAxis.gridlines.color="none",f.vAxis.gridlines.color="none"),c.settings.material?g.draw(h,google.charts.Bar.convertOptions(f)):g.draw(h,f);var v=function(){g=c.settings.material?new google.charts.Bar(i):new google.visualization.BarChart(i),c.settings.material?g.draw(h,google.charts.Bar.convertOptions(f)):g.draw(h,f)};t(e).resize(t.debounce(250,function(){t(i).html(""),setTimeout(v,200)})),t(a).on("fsqm.chartRedraw",t.debounce(250,function(){t(i).html(""),setTimeout(v,200)}))},drawColumnChart:function(i,n,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=this,h=google.visualization.arrayToDataTable(n),g=c.settings.material?new google.charts.Bar(i):new google.visualization.ColumnChart(i),f={hAxis:{title:s,gridlines:{count:-1}},vAxis:{title:r,baseline:0,gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};void 0===p&&(p={}),f=t.extend({},p,f),!1===l&&(f.title=void 0),!1===u&&(f.legend.position="none",f.axisTitlesPosition="none",f.hAxis.textPosition="none",f.vAxis.textPosition="none",f.hAxis.gridlines.color="none",f.vAxis.gridlines.color="none"),c.settings.material?g.draw(h,google.charts.Bar.convertOptions(f)):g.draw(h,f);var v=function(){g=c.settings.material?new google.charts.Bar(i):new google.visualization.ColumnChart(i),c.settings.material?g.draw(h,google.charts.Bar.convertOptions(f)):g.draw(h,f)};t(e).resize(t.debounce(250,function(){t(i).html(""),setTimeout(v,200)})),t(a).on("fsqm.chartRedraw",t.debounce(250,function(){t(i).html(""),setTimeout(v,200)}))},drawComboChart:function(i,n,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=google.visualization.arrayToDataTable(n),h=new google.visualization.ComboChart(i),g={title:o,vAxis:{title:r,gridlines:{count:-1}},hAxis:{title:s,gridlines:{count:-1}},backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};void 0===p&&(p={}),g=t.extend({},p,g),!1===l&&(g.title=void 0),!1===u&&(g.legend.position="none",g.axisTitlesPosition="none",g.hAxis.textPosition="none",g.vAxis.textPosition="none",g.hAxis.gridlines.color="none",g.vAxis.gridlines.color="none"),h.draw(c,g),t(e).resize(t.debounce(250,function(){t(i).html(""),setTimeout(function(){(h=new google.visualization.ComboChart(i)).draw(c,g)},200)})),t(a).on("fsqm.chartRedraw",t.debounce(250,function(){t(i).html(""),setTimeout(function(){(h=new google.visualization.ComboChart(i)).draw(c,g)},200)}))},yourOtherFunction:function(){}};var d={init:function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new o(this,e))})}};t.fn[s]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):("object"!=typeof e&&e?t.error("Method "+e+" does not exist on jQuery."+s):d.init.apply(this,arguments),this)}}(jQuery,window,document);